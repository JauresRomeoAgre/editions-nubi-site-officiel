<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>√âditions Nubi ‚Äì Le Petit Nuage Qui Avait Peur de Pleuvoir</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="√âditions Nubi, maison d‚Äô√©dition jeunesse ind√©pendante. D√©couvrez l‚Äôalbum illustr√© Le Petit Nuage Qui Avait Peur de Pleuvoir, une histoire sur la confiance en soi et les √©motions.">
  <style>
    :root {
      --bleu-ciel: #8ec5fc;
      --bleu-nuit: #152238;
      --jaune-doux: #ffe3a3;
      --rose-doux: #ffd6e8;
      --texte: #222;
      --fond: #f7f9fc;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--fond);
      color: var(--texte);
      line-height: 1.6;
    }
    header {
      background: linear-gradient(135deg, var(--bleu-ciel), var(--rose-doux));
      color: #fff;
      padding: 2.5rem 1.5rem 3.5rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    header::after {
      content: "";
      position: absolute;
      inset: auto -20% -8rem;
      height: 10rem;
      background: radial-gradient(circle at 50% 0%, rgba(255,255,255,0.9), transparent 60%);
      opacity: 0.9;
    }
    .wrapper {
      max-width: 1060px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      gap: 1rem;
      flex-wrap: wrap;
    }
    nav .logo {
      font-weight: 700;
      font-size: 1.1rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
    }
    nav a {
      color: #fff;
      text-decoration: none;
      font-size: 0.95rem;
      opacity: 0.9;
    }
    nav a:hover {
      opacity: 1;
      text-decoration: underline;
    }
    .hero {
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.5fr);
      gap: 2rem;
      align-items: center;
      margin-top: 1.5rem;
    }
    .hero-text h1 {
      font-size: clamp(2rem, 3vw, 2.6rem);
      margin-bottom: 0.8rem;
    }
    .hero-text p {
      font-size: 1rem;
      max-width: 32rem;
      margin-bottom: 1.5rem;
    }
    .tagline {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      opacity: 0.9;
      margin-bottom: 0.5rem;
    }
    .btn-primary, .btn-ghost, .btn-order {
      display: inline-block;
      padding: 0.8rem 1.3rem;
      border-radius: 999px;
      border: 0;
      cursor: pointer;
      font-size: 0.95rem;
      text-decoration: none;
      transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.2s;
      margin-right: 0.5rem;
    }
    .btn-primary {
      background: #fff;
      color: var(--bleu-nuit);
      box-shadow: 0 8px 18px rgba(0,0,0,0.18);
      font-weight: 600;
    }
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.22);
    }
    .btn-ghost {
      background: rgba(255,255,255,0.18);
      color: #fff;
      border: 1px solid rgba(255,255,255,0.5);
    }
    .btn-ghost:hover {
      background: rgba(255,255,255,0.3);
    }
    .btn-order {
      background: #2563eb;
      color: #fff;
      font-weight: 600;
      box-shadow: 0 8px 20px rgba(37,99,235,0.35);
      margin-top: 0.8rem;
    }
    .btn-order:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 26px rgba(37,99,235,0.45);
    }

    .hero-book {
      background: rgba(255,255,255,0.95);
      border-radius: 1.5rem;
      padding: 1.5rem;
      box-shadow: 0 18px 40px rgba(0,0,0,0.22);
    }
    .hero-book .badge {
      display: inline-block;
      background: var(--jaune-doux);
      color: #9a5a00;
      padding: 0.3rem 0.7rem;
      border-radius: 999px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-bottom: 0.6rem;
    }
    .hero-book-title {
      font-weight: 700;
      margin-bottom: 0.2rem;
    }
    .hero-book-sub {
      font-size: 0.9rem;
      margin-bottom: 0.8rem;
      color: #555;
    }
    .hero-cover {
      margin-top: 0.8rem;
      border-radius: 1rem;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(15,23,42,0.25);
    }
    .hero-cover img {
      display: block;
      width: 100%;
      height: auto;
    }

    section {
      padding: 3rem 1.5rem;
    }
    section:nth-of-type(odd) {
      background: #ffffff;
    }
    section:nth-of-type(even) {
      background: var(--fond);
    }
    section h2 {
      font-size: 1.6rem;
      margin-bottom: 1rem;
      text-align: center;
    }
    section p.lead {
      text-align: center;
      max-width: 620px;
      margin: 0 auto 2rem;
      color: #555;
      font-size: 0.98rem;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }
    .card {
      background: #fff;
      border-radius: 1.1rem;
      padding: 1.4rem;
      box-shadow: 0 8px 20px rgba(15, 23, 42, 0.08);
    }
    .card h3 {
      font-size: 1.05rem;
      margin-bottom: 0.6rem;
    }
    .meta-list {
      list-style: none;
      font-size: 0.95rem;
    }
    .meta-list li {
      margin-bottom: 0.25rem;
    }
    .pill-list {
      list-style: none;
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-top: 0.5rem;
    }
    .pill-list li {
      background: #eef4ff;
      color: #25315a;
      border-radius: 999px;
      padding: 0.25rem 0.7rem;
      font-size: 0.8rem;
    }
    .highlight {
      background: #fff7e6;
      border-left: 4px solid #f6a723;
      padding: 1rem 1.1rem;
      border-radius: 0.8rem;
      font-size: 0.95rem;
    }
    .two-col {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 1.8rem;
      align-items: flex-start;
      margin-top: 1.5rem;
    }
    .contact-block {
      max-width: 480px;
      margin: 0 auto;
      text-align: center;
      font-size: 0.98rem;
    }
    .contact-block a {
      color: var(--bleu-nuit);
      text-decoration: none;
      font-weight: 600;
    }
    .contact-block a:hover {
      text-decoration: underline;
    }
    footer {
      text-align: center;
      padding: 1.5rem 1rem 2rem;
      font-size: 0.85rem;
      color: #777;
      background: #ffffff;
    }

    @media (max-width: 780px) {
      .hero {
        grid-template-columns: 1fr;
      }
      nav {
        justify-content: center;
      }
      nav .logo {
        width: 100%;
        text-align: center;
      }
      .two-col {
        grid-template-columns: 1fr;
      }
      header {
        padding-bottom: 3rem;
      }
    }

    /* Petits styles pour le formulaire */
    form.card label {
      display:block;
      margin-top:0.8rem;
      margin-bottom:0.2rem;
      font-size:0.9rem;
    }
    form.card select,
    form.card input {
      width:100%;
      padding:0.4rem 0.6rem;
      border-radius:0.4rem;
      border:1px solid #d0d4e4;
      font-size:0.9rem;
    }
  </style>
</head>
<body>

<header id="top">
  <div class="wrapper">
    <nav>
      <div class="logo">√âditions Nubi</div>
      <ul>
        <li><a href="#livre">Le livre</a></li>
        <li><a href="#editeur">La maison d‚Äô√©dition</a></li>
        <li><a href="#auteur">L‚Äôauteur</a></li>
        <li><a href="#pro">Librairies & biblioth√®ques</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>

    <div class="hero">
      <div class="hero-text">
        <div class="tagline">Albums jeunesse illustr√©s</div>
        <h1>Des histoires douces pour apprivoiser les √©motions.</h1>
        <p>
          √âditions Nubi publie des albums jeunesse lumineux, sensibles et rassurants.
          Notre premier titre, <strong>Le Petit Nuage Qui Avait Peur de Pleuvoir</strong>,
          accompagne les enfants dans la d√©couverte de leur sensibilit√© et de leur courage.
        </p>
        <a href="#livre" class="btn-primary">D√©couvrir l‚Äôalbum</a>
        <a href="#pro" class="btn-ghost">Infos librairies & biblioth√®ques</a>
      </div>

      <div class="hero-book">
        <span class="badge">Nouveaut√©</span>
        <div class="hero-book-title">Le Petit Nuage Qui Avait Peur de Pleuvoir</div>
        <div class="hero-book-sub">Album jeunesse 21√ó27 cm ‚Äì 40 pages couleur</div>
        <p style="font-size:0.9rem;">
          Nubi est un petit nuage tr√®s sensible, qui a peur de pleuvoir et de faire du mal aux autres.
          Jusqu‚Äôau jour o√π il d√©couvre que ses gouttes peuvent aussi faire beaucoup de bien‚Ä¶
        </p>

        <div class="hero-cover">
          <img src="ImageNubi.png" alt="Couverture du livre Le Petit Nuage Qui Avait Peur de Pleuvoir" />
        </div>

        <a href="#commande" class="btn-order">
          Commander
        </a>
      </div>
    </div>
  </div>
</header>

<section id="livre">
  <div class="wrapper">
    <h2>Le Petit Nuage Qui Avait Peur de Pleuvoir</h2>
    <p class="lead">
      Un album tendre et po√©tique pour aider les enfants √† apprivoiser leurs √©motions,
      leur timidit√© et leur grande sensibilit√©.
    </p>

    <div class="grid">
      <div class="card">
        <h3>L‚Äôhistoire</h3>
        <p>
          Nubi est le plus petit nuage du ciel. Timide et tr√®s sensible, il a peur de pleuvoir
          trop fort et de faire du mal. Alors, chaque fois qu‚Äôil sent une goutte au bout de son ventre blanc,
          il se cache derri√®re une montagne.
        </p>
        <p>
          Un jour pourtant, trois petites fleurs du pr√© ont d√©sesp√©r√©ment soif.
          Nubi devra choisir : rester cach√© avec sa peur, ou oser pleuvoir pour les aider.
        </p>
      </div>

      <div class="card">
        <h3>Caract√©ristiques</h3>
        <ul class="meta-list">
          <li><strong>Genre :</strong> Album jeunesse illustr√©</li>
          <li><strong>√Çge :</strong> D√®s 3 ans</li>
          <li><strong>Format :</strong> 21 √ó 27 cm</li>
          <li><strong>Pagination :</strong> 40 pages couleur</li>
          <li><strong>Couverture :</strong> Cartonn√©e premium</li>
          <li><strong>Prix public :</strong> 14,49 ‚Ç¨ HT</li>
          <li><strong>√âditeur :</strong> √âditions Nubi</li>
          <li><strong>ISBN :</strong> √† compl√©ter</li>
        </ul>
        <a href="#commande" class="btn-order">
          Commander
        </a>
      </div>

      <div class="card">
        <h3>Th√®mes abord√©s</h3>
        <p>Un livre id√©al pour parler d‚Äô√©motions en famille ou en classe :</p>
        <ul class="pill-list">
          <li>Confiance en soi</li>
          <li>Gestion de la timidit√©</li>
          <li>Hypersensibilit√©</li>
          <li>Entraide & empathie</li>
          <li>Courage d‚Äô√™tre soi-m√™me</li>
          <li>Beaut√© du don</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<section id="editeur">
  <div class="wrapper">
    <h2>√âditions Nubi</h2>
    <p class="lead">
      Une maison d‚Äô√©dition jeunesse ind√©pendante, d√©di√©e aux histoires qui apaisent,
      rassurent et font grandir les enfants.
    </p>

    <div class="two-col">
      <div>
        <h3>Notre vision</h3>
        <p>
          √âditions Nubi est n√©e d‚Äôune envie simple : offrir aux enfants des histoires
          qui parlent √† leur c≈ìur autant qu‚Äô√† leur imagination. Nos albums abordent
          les √©motions, la sensibilit√©, la peur, la confiance, avec douceur et bienveillance.
        </p>
        <p>
          Nous croyons que les livres peuvent devenir de vrais compagnons de route,
          aider √† mettre des mots sur ce que les enfants ressentent et ouvrir le dialogue
          avec les adultes qui les entourent.
        </p>
      </div>
      <div>
        <div class="highlight">
          <strong>Nos engagements :</strong><br><br>
          ‚Ä¢ Des illustrations de haute qualit√©, douces et expressives<br>
          ‚Ä¢ Des textes accessibles, pens√©s pour √™tre lus √† voix haute<br>
          ‚Ä¢ Des th√©matiques fortes : √©motions, estime de soi, lien aux autres<br>
          ‚Ä¢ Un soin particulier port√© √† la fabrication de chaque album
        </div>
      </div>
    </div>
  </div>
</section>

<section id="auteur">
  <div class="wrapper">
    <h2>L‚Äôauteur</h2>
    <p class="lead">
      √Ä l‚Äôorigine de Nubi, un auteur passionn√© par la sensibilit√© et le monde int√©rieur des enfants.
    </p>

    <div class="two-col">
      <div>
        <h3>Jaur√®s Rom√©o Agr√©</h3>
        <p>
          Auteur et cr√©ateur d‚Äôunivers jeunesse, Jaur√®s Rom√©o Agr√© imagine des histoires
          qui parlent de peur, de courage, de timidit√© et de lumi√®re int√©rieure.
          Il souhaite offrir aux enfants des r√©cits qui les aident √† se reconna√Ætre,
          se sentir moins seuls et √† voir leur sensibilit√© comme une force.
        </p>
        <p>
          Avec <em>Le Petit Nuage Qui Avait Peur de Pleuvoir</em>, il signe un premier album
          tendre et symbolique, pens√© autant pour les enfants que pour les adultes qui lisent avec eux.
        </p>
      </div>
      <div>
        <p>
          <strong>Un univers visuel fort</strong><br>
          L‚Äôalbum s‚Äôappuie sur un style graphique inspir√© des univers anim√©s, avec des couleurs
          chaleureuses, des personnages expressifs, et un soin particulier port√© √† l‚Äôatmosph√®re
          de chaque sc√®ne.
        </p>
      </div>
    </div>
  </div>
</section>

<section id="pro">
  <div class="wrapper">
    <h2>Librairies & biblioth√®ques</h2>
    <p class="lead">
      Vous souhaitez proposer <em>Le Petit Nuage Qui Avait Peur de Pleuvoir</em> √† vos lecteurs ?
      Nous travaillons avec les libraires, biblioth√®ques et √©coles.
    </p>

    <div class="grid">
      <div class="card">
        <h3>Pour les libraires</h3>
        <p>
          L‚Äôalbum est disponible en d√©p√¥t-vente ou en achat ferme.
        </p>
        <ul class="meta-list">
          <li>‚Ä¢ Remise libraire : 35 % (d√©p√¥t-vente)</li>
          <li>‚Ä¢ Reprise des invendus</li>
          <li>‚Ä¢ Livraison directe</li>
          <li>‚Ä¢ Affiche & visuels fournis</li>
        </ul>
      </div>

      <div class="card">
        <h3>Pour les biblioth√®ques & √©coles</h3>
        <p>
          Un support id√©al pour les heures du conte, animations jeunesse
          et discussions autour des √©motions.
        </p>
        <ul class="meta-list">
          <li>‚Ä¢ Th√©matiques : √©motions, confiance, sensibilit√©</li>
          <li>‚Ä¢ Grand format pour lectures √† voix haute</li>
          <li>‚Ä¢ Possible rencontre/animation avec l‚Äôauteur (selon disponibilit√©)</li>
        </ul>
      </div>

      <div class="card">
        <h3>Dossier & mat√©riel pro</h3>
        <p>
          Sur demande, nous mettons √† disposition :
        </p>
        <ul class="meta-list">
          <li>‚Ä¢ Dossier commercial (PDF)</li>
          <li>‚Ä¢ Feuilletage vid√©o de l‚Äôalbum</li>
          <li>‚Ä¢ Visuels HD (couverture, pages int√©rieures)</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<section id="commande">
  <div class="wrapper">
    <h2>Commander un livre</h2>
    <p class="lead">
      Remplissez ce formulaire pour passer votre commande. Vous recevrez un r√©capitulatif par e-mail
      ou via WhatsApp selon votre choix.
    </p>

    <form id="commandeForm" class="card" style="max-width: 700px; margin: 0 auto;">
      <!-- R√©gion -->
      <label for="region"><strong>R√©gion</strong></label>
      <select id="region" name="region" required>
        <option value="">Choisissez une r√©gion</option>
        <option value="afrique">Afrique</option>
        <option value="europe">Europe</option>
        <option value="amerique">Am√©rique</option>
        <option value="asie">Asie</option>
      </select>

      <!-- Pays -->
      <label for="pays"><strong>Pays</strong></label>
      <select id="pays" name="pays" required>
        <option value="">Choisissez d‚Äôabord une r√©gion</option>
      </select>

      <!-- Zones C√¥te d‚ÄôIvoire -->
      <div id="zone-ci-block" style="display:none;">
        <label for="zoneCI"><strong>Zone (C√¥te d‚ÄôIvoire)</strong></label>
        <select id="zoneCI" name="zoneCI">
          <option value="">Choisissez une zone</option>
          <option value="Abidjan">Abidjan</option>
          <option value="Bingerville">Bingerville</option>
          <option value="Dabou">Dabou</option>
          <option value="Interieur">Int√©rieur</option>
        </select>

        <div id="ville-interieur-block" style="margin-top:0.5rem; display:none;">
          <label for="villeInterieur"><strong>Ville (int√©rieur)</strong></label>
          <input type="text" id="villeInterieur" name="villeInterieur" placeholder="Nom de la ville" />
        </div>
      </div>

      <!-- Statut -->
      <label for="statut"><strong>Vous √™tes‚Ä¶</strong></label>
      <select id="statut" name="statut" required>
        <option value="">Choisissez un statut</option>
        <option value="parent">Parent</option>
        <option value="librairie">Librairie</option>
        <option value="ecole">√âcole</option>
        <option value="bibliotheque">Biblioth√®que</option>
        <option value="psychologue">Psychologue pour enfants</option>
        <option value="autre">Autre</option>
      </select>

      <!-- Livre -->
      <label for="livre"><strong>Livre souhait√©</strong></label>
      <select id="livre" name="livre" required>
        <option value="">Choisissez un livre</option>
        <option value="Le Petit Nuage Qui Avait Peur de Pleuvoir">
          Le Petit Nuage Qui Avait Peur de Pleuvoir
        </option>
      </select>

      <!-- Quantit√© -->
      <div id="quantite-block">
        <label for="quantite"><strong>Quantit√©</strong></label>
        <select id="quantite" name="quantite">
          <!-- Options remplies dynamiquement selon le statut -->
        </select>

        <div id="quantite-pers-block" style="margin-top:0.5rem; display:none;">
          <label for="quantitePerso"><strong>Quantit√© personnalis√©e</strong></label>
          <input type="number" id="quantitePerso" min="1" step="1" />
        </div>
      </div>

      <!-- Devise & prix -->
      <div style="margin-top:1rem;">
        <select id="devise" name="devise" required>
          <option value="">Choisissez une devise</option>
          <option value="EUR">Euro (‚Ç¨)</option>
          <option value="USD">Dollar ($)</option>
          <option value="XOF">Franc CFA (FCFA)</option>
        </select>
      </div>

      <div style="margin-top:0.5rem;">
        <label for="total"><strong>Total HT</strong></label>
        <input type="text" id="total" readonly />
        <small style="display:block; font-size:0.8rem; color:#666;">
          Prix unitaire HT : 14,49 ‚Ç¨ ‚Ä¢ 16,99 $ ‚Ä¢ 10 000 FCFA
        </small>
      </div>

      <!-- Mode d‚Äôenvoi -->
      <div style="margin-top:1.2rem;">
        <strong>Envoyer la commande via :</strong><br>
        <label><input type="radio" name="envoi" value="email" checked> E-mail</label>
        <label style="margin-left:1rem;"><input type="radio" name="envoi" value="whatsapp"> WhatsApp</label>
      </div>

      <!-- Email -->
      <div id="email-block" style="margin-top:0.8rem;">
        <label for="emailClient"><strong>Votre e-mail</strong></label>
        <input type="email" id="emailClient" placeholder="votre.email@example.com" />
      </div>

      <!-- WhatsApp -->
      <div id="whatsapp-block" style="margin-top:0.8rem; display:none;">
        <label for="whatsappClient"><strong>Votre num√©ro WhatsApp</strong></label>
        <div style="display:flex; gap:0.5rem; align-items:center;">
          <span id="indicatif">+225</span>
          <input type="tel" id="whatsappClient" placeholder="0700000000" maxlength="10" />
        </div>
      </div>

      <!-- Bouton envoyer -->
      <button type="button" id="btnEnvoyer" class="btn-order" style="margin-top:1.5rem;">
        Envoyer la commande
      </button>

      <p id="msgInfo" style="margin-top:0.8rem; font-size:0.85rem; color:#555;"></p>
    </form>

    <!-- Carte de confirmation (affich√©e apr√®s envoi) -->
    <div id="confirmationCard" class="card" style="max-width:700px; margin:1.5rem auto 0; text-align:center; display:none;">
      <h3>Merci pour votre commande !</h3>
      <p id="confirmationTexte" style="margin-top:0.8rem; font-size:0.95rem;">
        Votre commande a bien √©t√© pr√©par√©e. Vous pouvez finaliser l‚Äôenvoi dans votre application.
      </p>
      <a href="#top" class="btn-primary" style="margin-top:1rem; display:inline-block;">
        Retour √† l‚Äôaccueil
      </a>
    </div>
  </div>
</section>

<section id="contact">
  <div class="wrapper">
    <h2>Contact</h2>
    <p class="lead">
      Une question, une commande, un projet de partenariat ?
      N‚Äôh√©sitez pas √† nous √©crire.
    </p>

    <div class="contact-block">
      <p><strong>√âditions Nubi</strong><br>
        Responsable √©ditorial : Jaur√®s Rom√©o Agr√©
      </p>
      <p>
        üìß Email : <a href="mailto:contact@editionsnubi.com">contact@editionsnubi.com</a><br>
        üìû T√©l√©phone : <a href="tel:+2250709850776">+225 0709850776</a>
      </p>
      <p>
        Vous pouvez √©galement nous suivre sur les r√©seaux sociaux
        (liens √† ajouter) pour d√©couvrir les coulisses de la cr√©ation et des prochaines parutions.
      </p>
    </div>
  </div>
</section>

<footer>
  ¬© <span id="year"></span> √âditions Nubi ‚Äî Tous droits r√©serv√©s.
</footer>

<script>
  // Ann√©e du footer
  document.getElementById('year').textContent = new Date().getFullYear();

  // Pays par r√©gion
  const paysParRegion = {
    afrique: [
      "C√¥te d'Ivoire", "S√©n√©gal", "Mali", "Burkina Faso", "Togo", "B√©nin", "Guin√©e",
      "Cameroun", "Congo", "RDC", "Maroc", "Alg√©rie", "Tunisie"
    ],
    europe: [
      "France", "Belgique", "Suisse", "Allemagne", "Espagne", "Italie",
      "Portugal", "Pays-Bas"
    ],
    amerique: [
      "Canada", "√âtats-Unis", "Br√©sil", "Mexique"
    ],
    asie: [
      "Chine", "Japon", "Inde", "Cor√©e du Sud", "√âmirats Arabes Unis"
    ]
  };

  // Indicatifs par pays
  const indicatifParPays = {
    "C√¥te d'Ivoire": "+225",
    "S√©n√©gal": "+221",
    "Mali": "+223",
    "Burkina Faso": "+226",
    "Togo": "+228",
    "B√©nin": "+229",
    "Guin√©e": "+224",
    "Cameroun": "+237",
    "Congo": "+242",
    "RDC": "+243",
    "Maroc": "+212",
    "Alg√©rie": "+213",
    "Tunisie": "+216",
    "France": "+33",
    "Belgique": "+32",
    "Suisse": "+41",
    "Allemagne": "+49",
    "Espagne": "+34",
    "Italie": "+39",
    "Portugal": "+351",
    "Pays-Bas": "+31",
    "Canada": "+1",
    "√âtats-Unis": "+1",
    "Br√©sil": "+55",
    "Mexique": "+52",
    "Chine": "+86",
    "Japon": "+81",
    "Inde": "+91",
    "Cor√©e du Sud": "+82",
    "√âmirats Arabes Unis": "+971"
  };

  // Longueur de num√©ro (indicatif NON compris)
  const longueurTelParPays = {
    "C√¥te d'Ivoire": 10,
    "S√©n√©gal": 9,
    "Mali": 8,
    "Burkina Faso": 8,
    "Togo": 8,
    "B√©nin": 8,
    "Guin√©e": 9,
    "Cameroun": 9,
    "Congo": 9,
    "RDC": 9,
    "Maroc": 9,
    "Alg√©rie": 9,
    "Tunisie": 8,
    "France": 10,
    "Belgique": 9,
    "Suisse": 9,
    "Allemagne": 10,
    "Espagne": 9,
    "Italie": 10,
    "Portugal": 9,
    "Pays-Bas": 9,
    "Canada": 10,
    "√âtats-Unis": 10,
    "Br√©sil": 11,
    "Mexique": 10,
    "Chine": 11,
    "Japon": 10,
    "Inde": 10,
    "Cor√©e du Sud": 10,
    "√âmirats Arabes Unis": 9
  };

  const regionSelect = document.getElementById('region');
  const paysSelect = document.getElementById('pays');
  const zoneCIBlock = document.getElementById('zone-ci-block');
  const zoneCISelect = document.getElementById('zoneCI');
  const villeInterieurBlock = document.getElementById('ville-interieur-block');
  const statutSelect = document.getElementById('statut');
  const livreSelect = document.getElementById('livre');
  const quantiteSelect = document.getElementById('quantite');
  const quantitePersBlock = document.getElementById('quantite-pers-block');
  const quantitePersInput = document.getElementById('quantitePerso');
  const deviseSelect = document.getElementById('devise');
  const totalInput = document.getElementById('total');
  const emailBlock = document.getElementById('email-block');
  const whatsappBlock = document.getElementById('whatsapp-block');
  const emailClientInput = document.getElementById('emailClient');
  const whatsappClientInput = document.getElementById('whatsappClient');
  const btnEnvoyer = document.getElementById('btnEnvoyer');
  const msgInfo = document.getElementById('msgInfo');
  const indicatifSpan = document.getElementById('indicatif');
  const commandeForm = document.getElementById('commandeForm');
  const confirmationCard = document.getElementById('confirmationCard');
  const confirmationTexte = document.getElementById('confirmationTexte');

  // Remplir pays selon r√©gion
  regionSelect.addEventListener('change', () => {
    const region = regionSelect.value;
    paysSelect.innerHTML = '<option value="">Choisissez un pays</option>';
    zoneCIBlock.style.display = 'none';
    villeInterieurBlock.style.display = 'none';

    if (paysParRegion[region]) {
      paysParRegion[region].forEach(p => {
        const opt = document.createElement('option');
        opt.value = p;
        opt.textContent = p;
        paysSelect.appendChild(opt);
      });
    }
  });

  // Gestion C√¥te d‚ÄôIvoire + indicatif + longueur t√©l√©phone
  paysSelect.addEventListener('change', () => {
    const pays = paysSelect.value;

    // Zones CI
    if (regionSelect.value === 'afrique' && pays === "C√¥te d'Ivoire") {
      zoneCIBlock.style.display = 'block';
    } else {
      zoneCIBlock.style.display = 'none';
      villeInterieurBlock.style.display = 'none';
    }

    // Indicatif WhatsApp
    if (indicatifParPays[pays]) {
      indicatifSpan.textContent = indicatifParPays[pays];
    } else {
      indicatifSpan.textContent = "+";
    }

    // Longueur et placeholder du num√©ro
    const longueur = longueurTelParPays[pays] || 10;
    whatsappClientInput.value = "";
    whatsappClientInput.setAttribute('maxlength', longueur);
    whatsappClientInput.placeholder = `Num√©ro (${longueur} chiffres)`;
  });

  // Zone Int√©rieur ‚Üí ville √† saisir
  zoneCISelect.addEventListener('change', () => {
    if (zoneCISelect.value === 'Interieur') {
      villeInterieurBlock.style.display = 'block';
    } else {
      villeInterieurBlock.style.display = 'none';
    }
  });

  // Options de quantit√©s selon statut
  function majQuantites() {
    const statut = statutSelect.value;
    quantiteSelect.innerHTML = '';
    quantitePersBlock.style.display = 'none';
    quantitePersInput.value = '';

    let options = [];
    if (statut === 'librairie' || statut === 'ecole' || statut === 'bibliotheque') {
      options = ['0','5','10','20','30','50','personnaliser'];
    } else if (statut === 'parent' || statut === 'psychologue' || statut === 'autre') {
      options = ['0','1','2','3','5','7','10','personnaliser'];
    } else {
      const opt = document.createElement('option');
      opt.value = '';
      opt.textContent = "Choisissez d‚Äôabord un statut";
      opt.disabled = true;
      opt.selected = true;
      quantiteSelect.appendChild(opt);
      return;
    }

    options.forEach(val => {
      const opt = document.createElement('option');
      opt.value = val;
      opt.textContent = (val === 'personnaliser') ? 'Personnaliser‚Ä¶' : val;
      quantiteSelect.appendChild(opt);
    });
  }

  statutSelect.addEventListener('change', majQuantites);

  quantiteSelect.addEventListener('change', () => {
    if (quantiteSelect.value === 'personnaliser') {
      quantitePersBlock.style.display = 'block';
    } else {
      quantitePersBlock.style.display = 'none';
      quantitePersInput.value = '';
    }
    calculerTotal();
  });

  deviseSelect.addEventListener('change', calculerTotal);
  quantitePersInput.addEventListener('input', calculerTotal);

  function getQuantite() {
    if (quantiteSelect.value === 'personnaliser') {
      const q = parseInt(quantitePersInput.value || '0', 10);
      return isNaN(q) ? 0 : q;
    } else {
      return parseInt(quantiteSelect.value || '0', 10);
    }
  }

  function calculerTotal() {
    const qte = getQuantite();
    let unit = 0;
    if (deviseSelect.value === 'EUR') unit = 14.49;
    if (deviseSelect.value === 'USD') unit = 16.99;
    if (deviseSelect.value === 'XOF') unit = 10000;

    if (!qte || !unit) {
      totalInput.value = '';
      return;
    }

    const total = qte * unit;
    if (deviseSelect.value === 'XOF') {
      totalInput.value = total.toLocaleString('fr-FR') + ' FCFA';
    } else if (deviseSelect.value === 'EUR') {
      totalInput.value = total.toFixed(2).replace('.', ',') + ' ‚Ç¨';
    } else {
      totalInput.value = total.toFixed(2) + ' $';
    }
  }

  // Choix e-mail vs WhatsApp
  document.querySelectorAll('input[name="envoi"]').forEach(radio => {
    radio.addEventListener('change', () => {
      if (radio.value === 'email' && radio.checked) {
        emailBlock.style.display = 'block';
        whatsappBlock.style.display = 'none';
      }
      if (radio.value === 'whatsapp' && radio.checked) {
        emailBlock.style.display = 'none';
        whatsappBlock.style.display = 'block';
      }
    });
  });

  // Afficher la "page" de confirmation
  function montrerConfirmation(mode) {
    commandeForm.style.display = 'none';
    confirmationCard.style.display = 'block';

    if (mode === 'email') {
      confirmationTexte.textContent =
        "Votre commande a √©t√© g√©n√©r√©e dans votre application e-mail. V√©rifiez le message pr√©rempli puis envoyez-le pour la finaliser.";
    } else if (mode === 'whatsapp') {
      confirmationTexte.textContent =
        "Une fen√™tre WhatsApp s‚Äôest ouverte. V√©rifiez le message pr√©rempli puis envoyez-le pour finaliser votre commande.";
    } else {
      confirmationTexte.textContent =
        "Votre commande a bien √©t√© pr√©par√©e. Vous pouvez maintenant finaliser l‚Äôenvoi dans votre application.";
    }

    location.hash = '#commande';
  }

  // Envoi du formulaire
  btnEnvoyer.addEventListener('click', () => {
    msgInfo.textContent = ''; // reset

    const region = regionSelect.value;
    const pays = paysSelect.value;
    const statut = statutSelect.value;

    // Livre : valeur + texte lisible
    const livreValue = livreSelect.value;
    const livreTexte = livreSelect.options[livreSelect.selectedIndex]
      ? livreSelect.options[livreSelect.selectedIndex].text
      : '';

    const qte = getQuantite();
    const devise = deviseSelect.value;
    const total = totalInput.value || '(√† calculer)';

    // VALIDATION
    if (!region) {
      msgInfo.textContent = 'Merci de s√©lectionner une r√©gion.';
      msgInfo.style.color = 'red';
      return;
    }

    if (!pays) {
      msgInfo.textContent = 'Merci de s√©lectionner un pays.';
      msgInfo.style.color = 'red';
      return;
    }

    if (!statut) {
      msgInfo.textContent = 'Merci de s√©lectionner un statut.';
      msgInfo.style.color = 'red';
      return;
    }

    if (!qte || qte <= 0) {
      msgInfo.textContent = 'Merci d‚Äôindiquer une quantit√© de livres (au moins 1).';
      msgInfo.style.color = 'red';
      return;
    }

    // Gestion sp√©cifique C√¥te d‚ÄôIvoire
    let zone = '';
    let villeInterieur = '';
    if (region === 'afrique' && pays === "C√¥te d'Ivoire") {
      zone = zoneCISelect.value || '';
      if (!zone) {
        msgInfo.textContent = 'Veuillez choisir une zone pour la C√¥te d‚ÄôIvoire.';
        msgInfo.style.color = 'red';
        return;
      }

      if (zone === 'Interieur') {
        villeInterieur = document.getElementById('villeInterieur').value.trim();
        if (!villeInterieur) {
          msgInfo.textContent = 'Veuillez renseigner le nom de la ville pour l‚Äôexp√©dition en int√©rieur.';
          msgInfo.style.color = 'red';
          return;
        }
      }
    }

    const modeEnvoi = document.querySelector('input[name="envoi"]:checked').value;
    let email = '';
    let numero = '';
    let indicatifClient = '';

    if (modeEnvoi === 'email') {
      email = emailClientInput.value.trim();
      if (!email) {
        msgInfo.textContent = 'Merci de renseigner votre adresse e-mail.';
        msgInfo.style.color = 'red';
        return;
      }
    } else if (modeEnvoi === 'whatsapp') {
      numero = whatsappClientInput.value.trim();
      if (!numero) {
        msgInfo.textContent = 'Merci de renseigner votre num√©ro WhatsApp.';
        msgInfo.style.color = 'red';
        return;
      }
      const longueurAttendue = longueurTelParPays[pays] || 10;
      if (numero.length !== longueurAttendue) {
        msgInfo.textContent = `Le num√©ro de t√©l√©phone pour ${pays} doit comporter ${longueurAttendue} chiffres.`;
        msgInfo.style.color = 'red';
        return;
      }
      indicatifClient = indicatifSpan.textContent || '+';
    }

    const ligneZone = (zone
      ? `Zone CI : ${zone}${villeInterieur ? ' / Ville : ' + villeInterieur : ''}\n`
      : '');

    const resume =
      `Nouvelle commande √âditions Nubi\n\n` +
      `R√©gion : ${region}\n` +
      `Pays : ${pays}\n` +
      ligneZone +
      `Statut : ${statut}\n` +
      `Livre : ${livreTexte}\n` +
      `Quantit√© : ${qte}\n` +
      `Devise : ${devise}\n` +
      `Total estim√© HT : ${total}\n`;

    // Cas Afrique hors CI ‚Üí email obligatoire
    if (region === 'afrique' && pays !== "C√¥te d'Ivoire") {
      const subject = encodeURIComponent('Commande livre ‚Äì √âditions Nubi');
      const body = encodeURIComponent(
        resume +
        '\nMerci de pr√©ciser vos coordonn√©es :\nNom, pr√©nom, adresse, t√©l√©phone.'
      );
      window.location.href =
        `mailto:contact@editionsnubi.com?subject=${subject}&body=${body}`;
      msgInfo.textContent = 'Redirection vers votre application e-mail pour finaliser la commande.';
      msgInfo.style.color = '#333';
      montrerConfirmation('email');
      return;
    }

    if (modeEnvoi === 'email') {
      const subject = encodeURIComponent('Commande livre ‚Äì √âditions Nubi');
      const body = encodeURIComponent(
        resume +
        `\nE-mail du client : ${email}\n\nMerci de pr√©ciser vos coordonn√©es postales pour l‚Äôexp√©dition.`
      );
      window.location.href =
        `mailto:contact@editionsnubi.com?subject=${subject}&body=${body}`;
      msgInfo.textContent = 'Redirection vers votre application e-mail pour finaliser la commande.';
      msgInfo.style.color = '#333';
      montrerConfirmation('email');
    } else {
      const texte = encodeURIComponent(
        resume +
        `\nNum√©ro WhatsApp du client : ${indicatifClient}${numero}`
      );
      const telDestination = '2250709850776';
      window.open(`https://wa.me/${telDestination}?text=${texte}`, '_blank');
      msgInfo.textContent = 'Une fen√™tre WhatsApp va s‚Äôouvrir pour envoyer votre commande.';
      msgInfo.style.color = '#333';
      montrerConfirmation('whatsapp');
    }
  });

  // Initialiser quantit√©s et total au chargement
  majQuantites();
  calculerTotal();
</script>

</body>
</html>





