<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>√âditions Nubi ‚Äì Le Petit Nuage Qui Avait Peur de Pleuvoir</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="D√©couvrez l‚Äôalbum illustr√© Le Petit Nuage Qui Avait Peur de Pleuvoir.">
  <style>
    :root {
      --bleu-ciel: #8ec5fc;
      --bleu-nuit: #152238;
      --jaune-doux: #ffe3a3;
      --rose-doux: #ffd6e8;
      --texte: #222;
      --fond: #f7f9fc;
      --primary: #2563eb;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: var(--fond);
      color: var(--texte);
      line-height: 1.6;
    }

    /* --- NAVIGATION / HEADER --- */
    header {
      background: linear-gradient(135deg, var(--bleu-ciel), var(--rose-doux));
      color: #fff;
      padding: 2rem 1rem 4rem;
      text-align: center;
      position: relative;
    }
    .wrapper { max-width: 1060px; margin: 0 auto; position: relative; z-index: 1; padding: 0 1rem; }
    
    nav { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem; }
    nav .logo { font-weight: 700; font-size: 1.2rem; text-transform: uppercase; letter-spacing: 0.05em; }
    nav ul { list-style: none; display: flex; gap: 1rem; flex-wrap: wrap; }
    nav a { color: #fff; text-decoration: none; opacity: 0.9; font-size: 0.95rem; cursor: pointer;}
    nav a:hover { opacity: 1; text-decoration: underline; }

    /* --- HERO --- */
    .hero { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: center; text-align: left; }
    .hero-text h1 { font-size: 2.5rem; line-height: 1.2; margin-bottom: 1rem; }
    .hero-book { background: rgba(255,255,255,0.95); padding: 1.5rem; border-radius: 1.5rem; color: #333; box-shadow: 0 10px 30px rgba(0,0,0,0.15); text-align: center; }
    .hero-book img { max-width: 100%; border-radius: 10px; margin: 10px 0; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
    
    /* --- BOUTONS --- */
    .btn { display: inline-block; padding: 0.8rem 1.5rem; border-radius: 50px; text-decoration: none; font-weight: 600; cursor: pointer; border: none; transition: 0.2s; font-size: 1rem; }
    .btn-primary { background: #fff; color: var(--bleu-nuit); box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 15px rgba(0,0,0,0.15); }
    .btn-order { background: var(--primary); color: #fff; box-shadow: 0 4px 10px rgba(37,99,235,0.3); width: 100%; margin-top: 1rem; }
    .btn-order:hover { background: #1d4ed8; transform: translateY(-2px); }
    .btn-ghost { border: 1px solid rgba(255,255,255,0.6); color: #fff; margin-left: 0.5rem; background: transparent; }
    .btn-ghost:hover { background: rgba(255,255,255,0.1); }

    /* --- SECTIONS --- */
    section { padding: 3rem 0; }
    section:nth-child(even) { background: #fff; }
    h2 { text-align: center; font-size: 1.8rem; margin-bottom: 1rem; color: var(--bleu-nuit); }
    .lead { text-align: center; max-width: 600px; margin: 0 auto 2rem; color: #555; }

    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; }
    .card { background: #fff; padding: 1.5rem; border-radius: 1rem; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }

    /* --- FORMULAIRE (Style propre) --- */
    #view-order { display: none; padding-top: 2rem; padding-bottom: 4rem; } /* Cach√© par d√©faut */
    .form-container { max-width: 600px; margin: 0 auto; background: #fff; padding: 2rem; border-radius: 1rem; box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
    
    .form-group { margin-bottom: 1.2rem; }
    .form-group label { display: block; margin-bottom: 0.4rem; font-weight: 600; font-size: 0.9rem; color: var(--bleu-nuit); }
    .form-group select, .form-group input { width: 100%; padding: 0.7rem; border: 1px solid #dde1e7; border-radius: 0.5rem; font-size: 1rem; background: #fcfcfc; }
    .form-group select:focus, .form-group input:focus { border-color: var(--primary); outline: none; background: #fff; }
    
    .hidden { display: none; }
    .radio-group label { display: inline-flex; align-items: center; margin-right: 1.5rem; cursor: pointer; }
    .radio-group input { width: auto; margin-right: 0.5rem; }
    
    .price-box { background: #eef4ff; padding: 1rem; border-radius: 0.5rem; text-align: center; color: var(--primary); font-weight: bold; font-size: 1.2rem; margin: 1.5rem 0; }

    /* --- FOOTER --- */
    footer { text-align: center; padding: 2rem; background: #fff; color: #777; font-size: 0.9rem; margin-top: auto; }

    /* MOBILE */
    @media (max-width: 768px) {
      .hero { grid-template-columns: 1fr; text-align: center; }
      nav { justify-content: center; }
      .hero-text h1 { font-size: 2rem; }
    }
  </style>
</head>
<body>

<div id="view-home">
  <header>
    <div class="wrapper">
      <nav>
        <div class="logo">√âditions Nubi</div>
        <ul>
          <li><a href="#livre">Le Livre</a></li>
          <li><a href="#auteur">L'Auteur</a></li>
          <li><button class="btn btn-ghost" onclick="allerVersCommande()">Commander</button></li>
        </ul>
      </nav>

      <div class="hero">
        <div class="hero-text">
          <div style="text-transform:uppercase; letter-spacing:2px; font-size:0.8rem; margin-bottom:0.5rem; opacity:0.9;">Album Jeunesse Illustr√©</div>
          <h1>Des histoires douces pour apprivoiser les √©motions.</h1>
          <p style="margin-bottom: 1.5rem; opacity: 0.9;">
            √âditions Nubi publie des albums lumineux et rassurants. D√©couvrez <strong>Le Petit Nuage Qui Avait Peur de Pleuvoir</strong>, une aventure sur la confiance en soi.
          </p>
          <button class="btn btn-primary" onclick="allerVersCommande()">Commander l'album</button>
        </div>
        <div class="hero-book">
          <span style="background:#ffe3a3; color:#9a5a00; padding:3px 10px; border-radius:20px; font-size:0.8rem; font-weight:bold;">NOUVEAUT√â</span>
          <h3 style="margin-top:0.5rem;">Le Petit Nuage...</h3>
          <img src="ImageNubi.png" alt="Couverture du livre" />
          <button class="btn btn-order" onclick="allerVersCommande()">Commander maintenant</button>
        </div>
      </div>
    </div>
  </header>

  <section id="livre">
    <div class="wrapper">
      <h2>L'histoire de Nubi</h2>
      <p class="lead">Un outil pr√©cieux pour les parents et enseignants afin de parler de timidit√© et d'hypersensibilit√©.</p>
      <div class="grid">
        <div class="card">
          <h3>L‚Äôhistoire</h3>
          <p>Nubi est le plus petit nuage du ciel. Timide et sensible, il a peur de pleuvoir et de faire du mal. Mais un jour, trois fleurs assoiff√©es vont avoir besoin de son courage...</p>
        </div>
        <div class="card">
          <h3>D√©tails</h3>
          <ul style="list-style:none; line-height:1.8;">
            <li>‚úÖ <strong>Format :</strong> 21 x 27 cm (Grand format)</li>
            <li>‚úÖ <strong>Pages :</strong> 40 pages couleur</li>
            <li>‚úÖ <strong>√Çge :</strong> D√®s 3 ans</li>
            <li>‚úÖ <strong>Th√®mes :</strong> √âmotions, Confiance, Courage</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <section id="auteur" style="background:var(--fond);">
    <div class="wrapper">
      <h2>L'Auteur</h2>
      <div class="card" style="text-align:center; max-width:600px; margin:0 auto;">
        <h3>Jaur√®s Rom√©o Agr√©</h3>
        <p>Auteur et cr√©ateur d‚Äôunivers jeunesse, Jaur√®s imagine des histoires qui parlent de lumi√®re int√©rieure. Il souhaite offrir aux enfants des r√©cits pour se sentir moins seuls et voir leur sensibilit√© comme une force.</p>
        <div style="margin-top:1rem;">
          üìß <a href="mailto:contact@editionsnubi.com" style="color:var(--primary);">contact@editionsnubi.com</a><br>
          üìû +225 07 09 85 07 76
        </div>
      </div>
    </div>
  </section>
</div>

<div id="view-order">
  <div class="wrapper">
    <button onclick="retourAccueil()" style="background:none; border:none; color:#555; cursor:pointer; font-size:0.9rem; margin-bottom:1rem;">
      ‚Üê Retour √† l'accueil
    </button>
    
    <div class="form-container">
      <h2 style="margin-bottom:0.5rem;">Bon de Commande</h2>
      <p style="text-align:center; margin-bottom:2rem; color:#666; font-size:0.9rem;">Remplissez ce formulaire pour g√©n√©rer votre commande.</p>

      <form id="commandeForm">
        
        <div class="form-group">
          <label>1. R√©gion</label>
          <select id="region" onchange="changerRegion()">
            <option value="">-- Choisir --</option>
            <option value="afrique">Afrique</option>
            <option value="europe">Europe</option>
            <option value="amerique">Am√©rique</option>
            <option value="asie">Asie</option>
          </select>
        </div>

        <div class="form-group">
          <label>2. Pays</label>
          <select id="pays" onchange="changerPays()">
            <option value="">-- Choisir d'abord une r√©gion --</option>
          </select>
        </div>

        <div id="bloc-ci" class="hidden" style="background:#f0f9ff; padding:1rem; border-radius:0.5rem; border:1px solid #bae6fd; margin-bottom:1rem;">
          <div class="form-group">
            <label>Zone (C√¥te d'Ivoire)</label>
            <select id="zoneCI" onchange="changerZone()">
              <option value="">-- Choisir une zone --</option>
              <option value="Abidjan">Abidjan</option>
              <option value="Bingerville">Bingerville</option>
              <option value="Dabou">Dabou</option>
              <option value="Interieur">Int√©rieur du pays</option>
            </select>
          </div>
          <div id="bloc-ville" class="hidden form-group">
            <label>Nom de la ville :</label>
            <input type="text" id="villeInterieur" placeholder="Ex: Yamoussoukro, Bouak√©...">
          </div>
        </div>

        <div class="form-group">
          <label>3. Vous √™tes</label>
          <select id="statut" onchange="changerStatut()">
            <option value="">-- Choisir --</option>
            <option value="parent">Parent</option>
            <option value="librairie">Librairie</option>
            <option value="ecole">√âcole</option>
            <option value="bibliotheque">Biblioth√®que</option>
            <option value="autre">Autre</option>
          </select>
        </div>

        <div class="grid" style="gap:1rem;">
          <div class="form-group">
            <label>Livre</label>
            <select id="livre">
              <option value="Le Petit Nuage Qui Avait Peur de Pleuvoir">Le Petit Nuage Qui Avait Peur de Pleuvoir</option>
            </select>
          </div>
          <div class="form-group">
            <label>Quantit√©</label>
            <select id="quantiteSelect" onchange="changerQuantite()">
              <option value="">-- Statut d'abord --</option>
            </select>
            <input type="number" id="quantiteInput" class="hidden" style="margin-top:0.5rem;" placeholder="Saisir quantit√©" min="1" oninput="calculerTotal()">
          </div>
        </div>

        <div class="form-group">
          <label>Devise</label>
          <select id="devise" onchange="calculerTotal()">
            <option value="XOF">Franc CFA (FCFA)</option>
            <option value="EUR">Euro (‚Ç¨)</option>
            <option value="USD">Dollar ($)</option>
          </select>
        </div>

        <div class="price-box">
          Total Estim√© : <span id="totalAffiche">0</span>
        </div>

        <div style="margin-top:2rem; border-top:1px solid #eee; padding-top:1.5rem;">
          <label style="display:block; margin-bottom:1rem; font-weight:bold;">Comment envoyer la commande ?</label>
          
          <div class="radio-group" style="margin-bottom:1.5rem;">
            <label><input type="radio" name="modeEnvoi" value="email" checked onclick="changerMode('email')"> Par E-mail</label>
            <label><input type="radio" name="modeEnvoi" value="whatsapp" onclick="changerMode('whatsapp')"> Par WhatsApp</label>
          </div>

          <div id="bloc-email" class="form-group">
            <label>Votre E-mail</label>
            <input type="email" id="emailClient" placeholder="votre@email.com">
          </div>

          <div id="bloc-whatsapp" class="hidden form-group">
            <label>Votre Num√©ro WhatsApp</label>
            <div style="display:flex; gap:0.5rem; align-items:center;">
              <span id="indicatif" style="background:#eee; padding:0.7rem; border-radius:0.5rem; font-weight:bold;">+225</span>
              <input type="tel" id="telClient" placeholder="Num√©ro (sans indicatif)">
            </div>
            <small style="color:#666;">Exemple : 0707070707</small>
          </div>
        </div>

        <button type="button" class="btn btn-order" onclick="lancerLaCommande()" style="padding:1rem; font-size:1.1rem; margin-top:2rem;">
          ENVOYER LA COMMANDE
        </button>

      </form>
    </div>
  </div>
</div>

<footer>
  ¬© <span id="year"></span> √âditions Nubi ‚Äî Tous droits r√©serv√©s.
</footer>

<script>
  // ------------------------------------
  // 1. GESTION DES PAGES (ACCUEIL <-> COMMANDE)
  // ------------------------------------
  function allerVersCommande() {
    document.getElementById('view-home').style.display = 'none';
    document.getElementById('view-order').style.display = 'block';
    window.scrollTo(0, 0); // Remonter en haut de page
  }

  function retourAccueil() {
    document.getElementById('view-order').style.display = 'none';
    document.getElementById('view-home').style.display = 'block';
    window.scrollTo(0, 0);
  }

  // ------------------------------------
  // 2. LOGIQUE DU FORMULAIRE (ROBUSTE)
  // ------------------------------------
  document.getElementById('year').textContent = new Date().getFullYear();

  const CONFIG = {
    emailDest: "contact@editionsnubi.com",
    whatsappDest: "2250709850776",
    prix: { XOF: 10000, EUR: 14.49, USD: 16.99 }
  };

  const DATA = {
    afrique: ["C√¥te d'Ivoire", "S√©n√©gal", "Mali", "Burkina Faso", "Togo", "B√©nin", "Cameroun", "Maroc"],
    europe: ["France", "Belgique", "Suisse"],
    amerique: ["Canada", "USA"],
    asie: ["Chine", "Japon"]
  };
  
  const INDICATIFS = {
    "C√¥te d'Ivoire": "+225", "S√©n√©gal": "+221", "Mali": "+223", "France": "+33", "Belgique": "+32", "Canada": "+1"
  };

  function changerRegion() {
    const region = document.getElementById('region').value;
    const selectPays = document.getElementById('pays');
    selectPays.innerHTML = '<option value="">-- Choisir pays --</option>';
    
    if (DATA[region]) {
      DATA[region].forEach(p => {
        let opt = document.createElement('option');
        opt.value = p; opt.text = p;
        selectPays.add(opt);
      });
    }
    cacherCI();
  }

  function changerPays() {
    const pays = document.getElementById('pays').value;
    const indicatif = INDICATIFS[pays] || "+";
    document.getElementById('indicatif').innerText = indicatif;
    
    if (pays === "C√¥te d'Ivoire") {
      document.getElementById('bloc-ci').style.display = 'block';
    } else {
      cacherCI();
    }
  }

  function cacherCI() {
    document.getElementById('bloc-ci').style.display = 'none';
    document.getElementById('zoneCI').value = "";
    document.getElementById('bloc-ville').style.display = 'none';
  }

  function changerZone() {
    const zone = document.getElementById('zoneCI').value;
    document.getElementById('bloc-ville').style.display = (zone === 'Interieur') ? 'block' : 'none';
  }

  function changerStatut() {
    const st = document.getElementById('statut').value;
    const qSelect = document.getElementById('quantiteSelect');
    qSelect.innerHTML = "";
    
    let opts = [];
    if (st === 'librairie' || st === 'ecole') opts = [5, 10, 20, 50, "Autre"];
    else opts = [1, 2, 3, 5, "Autre"];

    opts.forEach(v => {
      let opt = document.createElement('option');
      opt.value = v; opt.text = v;
      qSelect.add(opt);
    });
    changerQuantite();
  }

  function changerQuantite() {
    const val = document.getElementById('quantiteSelect').value;
    if (val === "Autre") {
      document.getElementById('quantiteInput').style.display = 'block';
      document.getElementById('quantiteInput').value = "";
    } else {
      document.getElementById('quantiteInput').style.display = 'none';
      document.getElementById('quantiteInput').value = val;
    }
    calculerTotal();
  }

  function calculerTotal() {
    const qte = document.getElementById('quantiteInput').value;
    const dev = document.getElementById('devise').value;
    const total = qte * CONFIG.prix[dev];
    
    let txt = "0";
    if (total > 0) {
      if (dev === 'XOF') txt = total.toLocaleString('fr-FR') + " FCFA";
      else txt = total.toFixed(2) + " " + dev;
    }
    document.getElementById('totalAffiche').innerText = txt;
  }

  function changerMode(mode) {
    if (mode === 'email') {
      document.getElementById('bloc-email').style.display = 'block';
      document.getElementById('bloc-whatsapp').style.display = 'none';
    } else {
      document.getElementById('bloc-email').style.display = 'none';
      document.getElementById('bloc-whatsapp').style.display = 'block';
    }
  }

  // --- FONCTION DE COMMANDE ---
  function lancerLaCommande() {
    // 1. R√©cup√©ration
    const region = document.getElementById('region').value;
    const pays = document.getElementById('pays').value;
    const statut = document.getElementById('statut').value;
    const qte = document.getElementById('quantiteInput').value;
    const total = document.getElementById('totalAffiche').innerText;
    
    // 2. Validation (Alertes)
    if (!region || !pays) { alert("‚ùå Veuillez s√©lectionner un Pays."); return; }
    if (!statut) { alert("‚ùå Veuillez indiquer votre statut."); return; }
    if (!qte || qte < 1) { alert("‚ùå Veuillez indiquer une quantit√© valide."); return; }

    let infoZone = "";
    if (pays === "C√¥te d'Ivoire") {
      const zone = document.getElementById('zoneCI').value;
      if (!zone) { alert("‚ùå Veuillez choisir votre zone en C√¥te d'Ivoire."); return; }
      if (zone === "Interieur") {
        const ville = document.getElementById('villeInterieur').value;
        if (!ville) { alert("‚ùå Veuillez indiquer la ville."); return; }
        infoZone = " - Zone : Int√©rieur (" + ville + ")";
      } else {
        infoZone = " - Zone : " + zone;
      }
    }

    const mode = document.querySelector('input[name="modeEnvoi"]:checked').value;
    let contactInfo = "";
    if (mode === 'email') {
      const email = document.getElementById('emailClient').value;
      if (!email || !email.includes('@')) { alert("‚ùå Adresse E-mail invalide."); return; }
      contactInfo = email;
    } else {
      const tel = document.getElementById('telClient').value;
      if (!tel || tel.length < 8) { alert("‚ùå Num√©ro WhatsApp trop court."); return; }
      contactInfo = document.getElementById('indicatif').innerText + tel;
    }

    // 3. Envoi
    const message = 
      `*NOUVELLE COMMANDE NUBI*\n` +
      `------------------------\n` +
      `üìç Lieu : ${pays} ${infoZone}\n` +
      `üë§ Statut : ${statut}\n` +
      `üìö Quantit√© : ${qte} ex.\n` +
      `üí∞ Total : ${total}\n` +
      `------------------------\n`;

    if (mode === 'email') {
      alert("‚úÖ Redirection vers votre E-mail...");
      const sujet = encodeURIComponent("Commande Livre Nubi");
      const corps = encodeURIComponent(message + `\nMon E-mail : ${contactInfo}\n\nMerci de m'envoyer les instructions.`);
      window.location.href = `mailto:${CONFIG.emailDest}?subject=${sujet}&body=${corps}`;
    } else {
      alert("‚úÖ Ouverture de WhatsApp...");
      const corps = encodeURIComponent(message + `\nMon Contact : ${contactInfo}\n\nBonjour, je veux valider cette commande.`);
      window.open(`https://wa.me/${CONFIG.whatsappDest}?text=${corps}`, '_blank');
    }
  }
</script>

</body>
</html>
